{"version":3,"sources":["webpack:///./src/assets/mixin/UserMask.js","webpack:///./src/pages/PhotoWall/Carousel.vue?3e4d","webpack:///./src/pages/PhotoWall/Menu.vue?b2ac","webpack:///./src/components/UserMask/UserMask.vue?bde8","webpack:///src/components/UserMask/UserMask.vue","webpack:///./src/components/UserMask/UserMask.vue?3017","webpack:///./src/components/UserMask/UserMask.vue","webpack:///./src/pages/PhotoWall/PhotoWall.vue?3f7c","webpack:///./src/pages/PhotoWall/Carousel.vue?10e5","webpack:///src/pages/PhotoWall/Carousel.vue","webpack:///./src/pages/PhotoWall/Carousel.vue?a36b","webpack:///./src/pages/PhotoWall/Carousel.vue","webpack:///./src/pages/PhotoWall/Menu.vue?65aa","webpack:///src/pages/PhotoWall/Menu.vue","webpack:///./src/pages/PhotoWall/Menu.vue?1357","webpack:///./src/pages/PhotoWall/Menu.vue","webpack:///src/pages/PhotoWall/PhotoWall.vue","webpack:///./src/pages/PhotoWall/PhotoWall.vue?f41c","webpack:///./src/pages/PhotoWall/PhotoWall.vue","webpack:///./src/components/UserMask/UserMask.vue?53c2","webpack:///./src/assets/js/index.js","webpack:///./src/pages/PhotoWall/PhotoWall.vue?097d"],"names":["methods","closeMask","this","isMaskShowing","openMask","handler","arg","data","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","key","on","ref","_t","_v","staticRenderFns","name","props","mounted","$refs","info","offsetHeight","window","innerHeight","style","height","console","log","overflowY","offsetWidth","innerWidth","width","component","selectedImg","url","_s","upper","handleFormatData","date","description","_e","$event","isAutoPlaying","_l","imgObj","index","refInFor","JSON","stringify","a_handler","marginLeft","olWidth","imgObjs","num","class","activeIndex","toPic","prePic","nextPic","isMoving","intervalId","$store","state","recommendImgs","autoPlay","setInterval","turnTo","targetIndex","next","className","setTimeout","index_change","showImgDetails","document","querySelector","beforeDestroy","clearInterval","imgInfo","active","title","titleNow","img","imgInfos","computed","imgs","find","mixins","mixin_UserMask","components","Carousel","formatDate","time","detailMode","Date","y","getFullYear","MM","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds"],"mappings":"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","file":"js/chunk-29199256.0f7b1e4d.js","sourcesContent":["export default  {\r\n  methods: {\r\n    closeMask() {\r\n      this.isMaskShowing = false\r\n    },\r\n    openMask(handler,...arg){\r\n      this.isMaskShowing = true\r\n      handler(...arg)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isMaskShowing: false\r\n    }\r\n  }\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=style&index=0&id=31e6a4a1&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=fec3b9e6&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition-group',{staticClass:\"maskBox\",attrs:{\"tag\":\"div\",\"name\":\"maskAnimation\",\"appear\":\"\"}},[_c('div',{key:\"mask\",staticClass:\"mask\",on:{\"click\":_vm.closeMask}}),_c('div',{key:\"info\",staticClass:\"info\"},[_c('div',{ref:\"info\"},[_vm._t(\"default\")],2),_c('a',{staticClass:\"return iconfont\",attrs:{\"href\":\"javascript:\"},on:{\"click\":_vm.closeMask}},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <transition-group tag=\"div\" class=\"maskBox\" name=\"maskAnimation\" appear>\r\n      <div class=\"mask\" @click=\"closeMask\" key=\"mask\"></div>\r\n      <div class=\"info\" key=\"info\">\r\n        <div ref=\"info\">\r\n        <slot></slot>\r\n        </div>\r\n        <a href=\"javascript:\" class=\"return iconfont\" @click=\"closeMask\">&#xe6aa;</a>\r\n      </div>\r\n    </transition-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"UserMask\",\r\n  props:['closeMask'],\r\n  mounted() {\r\n    if (this.$refs.info.offsetHeight > window.innerHeight*0.75) {\r\n      this.$refs.info.style.height = window.innerHeight*0.75+'px'\r\n      console.log(window.innerHeight)\r\n      this.$refs.info.style.overflowY = 'scroll'\r\n    }\r\n    if (this.$refs.info.offsetWidth > window.innerWidth*0.85) {\r\n      this.$refs.info.style.width = window.innerWidth*0.85+'px'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  //@info-width: 900px;    要更改内容框大小，需要在插槽组件处设置slot的宽度\r\n  .maskBox {\r\n    position: relative;\r\n    z-index: 999;\r\n  }\r\n  .info {\r\n    position: fixed;\r\n    padding: 15px;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateX(-50%) translateY(-50%);\r\n    background-color: #fff;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  .return {\r\n    position: fixed;\r\n    display: block;\r\n    width: 36px;\r\n    height: 36px;\r\n    line-height: $height;\r\n    text-align: center;\r\n    border-radius: $height./2;\r\n    right: -40px;\r\n    top: -40px;\r\n    background-color: rgba(0,0,0,.3);\r\n    color: #fff;\r\n  }\r\n  .mask {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,.3);\r\n  }\r\n  .maskAnimation-enter-active{\r\n    transition: all .4s;\r\n  }\r\n  .maskAnimation-enter{\r\n    opacity: 0;\r\n    margin-top: -4%;\r\n  }\r\n  .maskAnimation-enter-to{\r\n    opacity: 1;\r\n    margin-top: 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMask.vue?vue&type=template&id=0692d6eb&scoped=true&\"\nimport script from \"./UserMask.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserMask.vue?vue&type=style&index=0&id=0692d6eb&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0692d6eb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"PhotoWall\"}},[(_vm.isMaskShowing)?_c('UserMask',{attrs:{\"closeMask\":_vm.closeMask}},[_c('div',{staticClass:\"slot-box\"},[_c('img',{attrs:{\"src\":_vm.selectedImg.url,\"alt\":\"\"}}),_c('div',{staticClass:\"upper\"},[_vm._v(\"上传者：\"+_vm._s(_vm.selectedImg.upper))]),_c('div',{staticClass:\"date\"},[_vm._v(\"上传于：\"+_vm._s(_vm.handleFormatData(_vm.selectedImg.date, true)))]),_c('div',{staticClass:\"description\"},[_vm._v(\"照片描述：\"+_vm._s(_vm.selectedImg.description))])])]):_vm._e(),_c('Carousel',{attrs:{\"openMask\":_vm.openMask}}),_c('Menu',{attrs:{\"openMask\":_vm.openMask}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"focus w\",on:{\"mouseenter\":function($event){_vm.isAutoPlaying=false},\"mouseleave\":function($event){_vm.isAutoPlaying=true}}},[_c('ul',_vm._l((_vm.imgObjs),function(imgObj,index){return _c('li',{key:index,ref:\"index\",refInFor:true,attrs:{\"id\":'a'+index}},[_c('a',{attrs:{\"href\":\"javascript:\",\"id\":JSON.stringify(imgObj)},on:{\"click\":_vm.a_handler}},[_c('img',{attrs:{\"src\":imgObj.url,\"alt\":\"\"}})]),_c('h3',[_vm._v(_vm._s(imgObj.description))])])}),0),_c('ol',{staticClass:\"circle\",style:({marginLeft:-0.5*_vm.olWidth+'px'})},_vm._l((_vm.imgObjs.length),function(num,index){return _c('li',{key:num,class:{'current':_vm.activeIndex===index},on:{\"click\":function($event){return _vm.toPic($event,index)}}})}),0),_c('a',{staticClass:\"button_l iconfont\",attrs:{\"href\":\"javascript:\"},on:{\"click\":_vm.prePic}},[_vm._v(\"\")]),_c('a',{staticClass:\"button_r iconfont\",attrs:{\"href\":\"javascript:\"},on:{\"click\":_vm.nextPic}},[_vm._v(\"\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"focus w\" @mouseenter=\"isAutoPlaying=false\" @mouseleave=\"isAutoPlaying=true\">\r\n    <ul>\r\n      <li ref=\"index\" :id=\"'a'+index\" v-for=\"(imgObj,index) in imgObjs\" :key=\"index\">\r\n        <a href=\"javascript:\" @click=\"a_handler\" :id=\"JSON.stringify(imgObj)\">\r\n          <img :src=\"imgObj.url\" alt=\"\">\r\n        </a>\r\n        <h3>{{ imgObj.description }}</h3>\r\n      </li>\r\n    </ul>\r\n    <ol class=\"circle\" :style=\"{marginLeft:-0.5*olWidth+'px'}\">\r\n      <li\r\n          @click=\"toPic($event,index)\"\r\n          :class=\"{'current':activeIndex===index}\"\r\n          v-for=\"(num,index) in imgObjs.length\"\r\n          :key=\"num\"\r\n      ></li>\r\n    </ol>\r\n    <a href=\"javascript:\" class=\"button_l iconfont\" @click=\"prePic\">&#xe6ab;</a>\r\n    <a href=\"javascript:\" class=\"button_r iconfont\" @click=\"nextPic\">&#xe6ad;</a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex'\r\nexport default {\r\n  name: \"Carousel\",\r\n  //imgObjs:[{url:'xx',description:'xx'}]\r\n  props: ['openMask'],\r\n  data() {\r\n    return {\r\n      olWidth: 0,\r\n      activeIndex: 0,\r\n      isMoving: false,\r\n      isAutoPlaying: true,\r\n      intervalId: 0,\r\n      imgObjs: this.$store.state.recommendImgs\r\n    }\r\n  },\r\n  methods: {\r\n    autoPlay() {\r\n      this.intervalId = setInterval(() => {\r\n        if (!this.isAutoPlaying) return\r\n        this.nextPic()\r\n      }, 3000)\r\n    },\r\n    turnTo(targetIndex, next=true) {\r\n      if (this.isMoving) return\r\n      let index = this.activeIndex\r\n      if (targetIndex === index) return\r\n      if (next) {\r\n        this.$refs.index[index].className = 'show left-leave-active left-leave'\r\n        this.$refs.index[targetIndex].className = 'show left-enter-active left-enter'\r\n      }else{\r\n        this.$refs.index[index].className = 'show right-leave-active right-leave'\r\n        this.$refs.index[targetIndex].className = 'show right-enter-active right-enter'\r\n      }\r\n      this.isMoving = true\r\n      setTimeout(() => {\r\n        this.$refs.index[index].className = ''\r\n        this.$refs.index[targetIndex].className = 'show'\r\n        this.isMoving = false\r\n      }, 700)\r\n      this.activeIndex = targetIndex\r\n    },\r\n    nextPic() {\r\n      let index_change = this.activeIndex >= this.imgObjs.length - 1 ? 0 : this.activeIndex + 1\r\n      this.turnTo(index_change,true)\r\n    },\r\n    prePic() {\r\n      let index_change = this.activeIndex <= 0 ? this.imgObjs.length - 1 : this.activeIndex - 1\r\n      this.turnTo(index_change,false)\r\n    },\r\n    //next：布尔值，为真时表示向左移动显示下一张\r\n    toPic(e, targetIndex){\r\n      let index = this.activeIndex\r\n      if (targetIndex === index) return\r\n      if (index < targetIndex) {\r\n        this.turnTo(targetIndex,true)\r\n      }else {\r\n        this.turnTo(targetIndex,false)\r\n      }\r\n    },\r\n    a_handler(e){\r\n      this.openMask(this.showImgDetails,JSON.parse(e.currentTarget.id));\r\n    },\r\n    ...mapActions(['showImgDetails'])\r\n  },\r\n  mounted() {\r\n    this.olWidth = document.querySelector('.focus .circle').offsetWidth\r\n    document.querySelector('#a' + this.activeIndex).className = 'show'\r\n    this.autoPlay()\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.intervalId)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@arrow-size: 40px;\r\n@focus-height: 562.5px;\r\n.focus {\r\n  position: relative;\r\n  height: @focus-height;\r\n  overflow: hidden;\r\n\r\n  ul li {\r\n    opacity: 0;\r\n    position: absolute;\r\n    width: @page-width;\r\n    height: @focus-height;\r\n    left: -200%;\r\n\r\n    h3 {\r\n      position: absolute;\r\n      height: 35px;\r\n      width: 100%;\r\n      text-align: center;\r\n      bottom: 0;\r\n      font-size: 18px;\r\n      line-height: 35px;\r\n      background-color: rgba(0, 0, 0, .3);\r\n      color: #ffffff;\r\n    }\r\n    img {\r\n      position: absolute;\r\n      width: @page-width;\r\n      top: 50%;\r\n      transform: translateY(-50%) ;\r\n    }\r\n  }\r\n\r\n  & > a {\r\n    position: absolute;\r\n    color: #fff;\r\n    font-size: @arrow-size;\r\n  }\r\n\r\n  .button_l {\r\n    left: 30px;\r\n    top: 50%;\r\n    margin-top: -0.5*@arrow-size;\r\n  }\r\n\r\n  .button_r {\r\n    right: 30px;\r\n    top: 50%;\r\n    margin-top: -0.5*@arrow-size;\r\n  }\r\n\r\n  .circle {\r\n    position: absolute;\r\n    bottom: 45px;\r\n    left: 50%;\r\n  }\r\n\r\n  .circle li {\r\n    float: left;\r\n    width: 12px;\r\n    height: 12px;\r\n    margin: 0 3px;\r\n    border-radius: 50%;\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n  }\r\n\r\n  .current {\r\n    background-color: #fff !important;\r\n  }\r\n\r\n  .show {\r\n    opacity: 1;\r\n    left: 0;\r\n  }\r\n\r\n  .right-leave-active {\r\n    left: 0;\r\n    transition: transform 0.5s;\r\n  }\r\n\r\n  .right-enter-active {\r\n    left: -100%;\r\n    transition: transform 0.5s;\r\n  }\r\n\r\n  .right-leave, .right-enter {\r\n    transform: translateX(100%);\r\n  }\r\n\r\n  .left-leave-active {\r\n    left: 0;\r\n    transition: transform 0.5s;\r\n  }\r\n\r\n  .left-enter-active {\r\n    left: 100%;\r\n    transition: transform 0.5s;\r\n  }\r\n\r\n  .left-leave, .left-enter {\r\n    transform: translateX(-100%);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carousel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Carousel.vue?vue&type=template&id=31e6a4a1&scoped=true&\"\nimport script from \"./Carousel.vue?vue&type=script&lang=js&\"\nexport * from \"./Carousel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Carousel.vue?vue&type=style&index=0&id=31e6a4a1&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31e6a4a1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('ul',{staticClass:\"nav clearfix\"},_vm._l((_vm.imgInfos),function(imgInfo,index){return _c('li',{key:index},[_c('a',{class:{active:imgInfo.title===_vm.titleNow},attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){_vm.titleNow=imgInfo.title}}},[_vm._v(\" \"+_vm._s(imgInfo.title)+\" \")])])}),0),_c('ul',{key:_vm.titleNow,staticClass:\"imgsContainer clearfix\"},_vm._l((_vm.imgs),function(img,index){return _c('li',{key:index,staticClass:\"hover-float\"},[_c('a',{attrs:{\"href\":\"javascript:\",\"id\":JSON.stringify(img)},on:{\"click\":_vm.a_handler}},[_c('img',{attrs:{\"src\":img.url,\"alt\":\"\"}})]),_c('span',{attrs:{\"id\":\"upper\"}},[_vm._v(_vm._s(img.upper))]),_c('span',{attrs:{\"id\":\"date\"}},[_vm._v(_vm._s(_vm.handleFormatData(img.date)))]),_c('div',{attrs:{\"id\":\"description\",\"title\":img.description}},[_vm._v(\" \"+_vm._s(img.description))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <ul class=\"nav clearfix\">\r\n      <li v-for=\"(imgInfo,index) in imgInfos\" :key=\"index\">\r\n        <a @click=\"titleNow=imgInfo.title\" :class=\"{active:imgInfo.title===titleNow}\" href=\"javascript:\">\r\n          {{ imgInfo.title }}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <ul class=\"imgsContainer clearfix\" :key=\"titleNow\">\r\n      <li class=\"hover-float\" v-for=\"(img,index) in imgs\" :key=\"index\">\r\n        <a href=\"javascript:\" @click=\"a_handler\" :id=\"JSON.stringify(img)\">\r\n          <img :src=\"img.url\" alt=\"\">\r\n        </a>\r\n        <span id=\"upper\">{{img.upper}}</span>\r\n        <span id=\"date\">{{\r\n            handleFormatData(img.date)\r\n          }}</span>\r\n        <div id=\"description\" :title=\"img.description\"> {{img.description}}</div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {formatDate} from '@/assets/js'\r\nimport {mapActions} from \"vuex\";\r\nexport default {\r\n  name: \"Menu\",\r\n  props:['openMask'],\r\n  data() {\r\n    return {\r\n      titleNow: '人物',\r\n      imgInfos: this.$store.state.imgInfos\r\n    }\r\n  },\r\n  computed: {\r\n    imgs() {\r\n      return this.imgInfos.find(e => e.title === this.titleNow).imgs\r\n    },\r\n  },\r\n  methods: {\r\n    a_handler(e){\r\n      this.openMask(this.showImgDetails,JSON.parse(e.currentTarget.id));\r\n    },\r\n    ...mapActions(['showImgDetails']),\r\n    handleFormatData(){\r\n      return formatDate(...arguments)\r\n    }\r\n  },\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@nav-height: 60px;\r\n@img-width: 300px;\r\n\r\n.box {\r\n  width: 100%;\r\n  background-color: #fff;\r\n\r\n  .nav {\r\n    height: @nav-height;\r\n    border-bottom: 1px solid #f0f2f7;\r\n\r\n    li {\r\n      float: left;\r\n\r\n      a {\r\n        display: block;\r\n        padding: 0 15px;\r\n        line-height: @nav-height;\r\n        text-align: center;\r\n\r\n        &:hover {\r\n          color: #175199;\r\n        }\r\n      }\r\n    }\r\n\r\n    .active {\r\n      color: #0066ff;\r\n    }\r\n  }\r\n\r\n  .imgsContainer {\r\n    width: @page-width + 10px;\r\n    li {\r\n      float: left;\r\n      width: @img-width;\r\n      height: ($width/16)*9 + 60px;\r\n      margin: 20px (@page-width - @img-width*3)*0.2 20px (@page-width - @img-width*3)*0.15;\r\n      padding: 15px;\r\n      border: 1px solid @tint-border-color;\r\n      border-radius: @common-border-radius;\r\n\r\n      img {\r\n        display: block;\r\n        width: 100%;\r\n        margin-bottom: 9px;\r\n      }\r\n      #upper,#date {\r\n        font-size: 14px;\r\n        color: @tint-font-color;\r\n        margin-bottom: 9px;\r\n      }\r\n      #upper {\r\n        float: left;\r\n      }\r\n      #date {\r\n        float: right;\r\n      }\r\n      #description {\r\n        width: 100%;\r\n        float: left;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=fec3b9e6&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=fec3b9e6&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fec3b9e6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"PhotoWall\">\r\n    <UserMask :closeMask=\"closeMask\" v-if=\"isMaskShowing\">\r\n      <div class=\"slot-box\">\r\n        <img :src=\"selectedImg.url\" alt=\"\">\r\n        <div class=\"upper\">上传者：{{ selectedImg.upper }}</div>\r\n        <div class=\"date\">上传于：{{ handleFormatData(selectedImg.date, true) }}</div>\r\n        <div class=\"description\">照片描述：{{ selectedImg.description }}</div>\r\n      </div>\r\n    </UserMask>\r\n    <Carousel :openMask=\"openMask\"></Carousel>\r\n    <Menu :openMask=\"openMask\"></Menu>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Carousel from \"@/pages/PhotoWall/Carousel\"\r\nimport Menu from \"@/pages/PhotoWall/Menu\"\r\nimport UserMask from \"@/components/UserMask/UserMask\"\r\nimport mixin_UserMask from \"@/assets/mixin/UserMask\"\r\nimport {mapState} from 'vuex'\r\nimport {formatDate} from \"@/assets/js\";\r\n\r\nexport default {\r\n  name: \"PhotoWall\",\r\n  mixins: [mixin_UserMask],\r\n  components: {\r\n    Carousel, Menu, UserMask\r\n  },\r\n  computed: {\r\n    ...mapState(['selectedImg'])\r\n  },\r\n  methods: {\r\n    handleFormatData() {\r\n      return formatDate(...arguments)\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n#PhotoWall {\r\n  padding-bottom: 50px;\r\n  background-color: #fff;\r\n}\r\n\r\n.slot-box {\r\n  width: 870px;\r\n\r\n  img {\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  div {\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoWall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoWall.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotoWall.vue?vue&type=template&id=36e33f0c&scoped=true&\"\nimport script from \"./PhotoWall.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoWall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhotoWall.vue?vue&type=style&index=0&id=36e33f0c&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36e33f0c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMask.vue?vue&type=style&index=0&id=0692d6eb&scoped=true&lang=less&\"","export function formatDate(time, detailMode=false) {\r\n  let date = new Date(time*1000)\r\n  let y = date.getFullYear();\r\n  let MM = date.getMonth() + 1;\r\n  MM = MM < 10 ? \"0\" + MM : MM;\r\n  let d = date.getDate();\r\n  d = d < 10 ? \"0\" + d : d;\r\n  let h = date.getHours();\r\n  h = h < 10 ? \"0\" + h : h;\r\n  let m = date.getMinutes();\r\n  m = m < 10 ? \"0\" + m : m;\r\n  let s = date.getSeconds();\r\n  s = s < 10 ? \"0\" + s : s;\r\n  if (detailMode) {\r\n    return y + \"年\" + MM + \"月\" + d + \"日 \" + h + \":\" + m + ':'+ s;\r\n  }else {\r\n    return y + \"-\" + MM + \"-\" + d + \" \" + h + \":\" + m;\r\n  }\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoWall.vue?vue&type=style&index=0&id=36e33f0c&scoped=true&lang=less&\""],"sourceRoot":""}